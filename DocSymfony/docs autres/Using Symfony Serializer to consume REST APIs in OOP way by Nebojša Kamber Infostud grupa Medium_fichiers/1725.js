(self.webpackChunklite=self.webpackChunklite||[]).push([[1725],{33336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("path",{d:"M17.4 7s2.64 3.56 0 6.88M15 8.56s1.6 2.38 0 4.4"})),a=r.createElement("path",{d:"M11.9 3.01a.19.19 0 0 0-.19.04L6.47 7.7H3.2c-.09 0-.21.06-.21.14v5.28c0 .08.12.3.21.3h3.14L11.72 18h.18a.17.17 0 0 0 .1-.15V3.14a.14.14 0 0 0-.1-.14z"});const l=function(e){return r.createElement("svg",o({width:21,height:21},e),i,a)}},53690:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46A8.2 8.2 0 0 1 19 10.5c0 2.39-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.3 0-4.3-.83-5.98-2.5C2.84 14.82 2 12.83 2 10.5s.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zm.03 1.53c-1.93 0-3.56.68-4.9 2.04a6.84 6.84 0 0 0-.01 9.82 6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.69 4.94-2.07a6.47 6.47 0 0 0 2-4.87c0-1.93-.67-3.57-2.03-4.93a6.72 6.72 0 0 0-4.91-2.03zM12.8 8.4v3.48h-.97v4.12H9.18v-4.12h-.97V8.39A.53.53 0 0 1 8.37 8a.53.53 0 0 1 .39-.16h3.49c.14 0 .27.06.38.16a.52.52 0 0 1 .16.39zM9.32 6.2c0-.8.39-1.2 1.18-1.2.79 0 1.18.4 1.18 1.2 0 .8-.4 1.19-1.18 1.19-.79 0-1.18-.4-1.18-1.18z",fillRule:"evenodd"});const a=function(e){return r.createElement("svg",o({width:21,height:21},e),i)}},78271:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M10.48 2c2.4 0 4.4.82 6.04 2.46C18.18 6.1 19 8.11 19 10.5s-.81 4.38-2.43 5.96A8.4 8.4 0 0 1 10.49 19c-2.31 0-4.3-.84-5.98-2.52A8.16 8.16 0 0 1 2 10.5c0-2.33.83-4.34 2.5-6.04A8.14 8.14 0 0 1 10.48 2zM3.91 8.2a6.68 6.68 0 0 0-.38 2.3c0 1.88.7 3.51 2.07 4.89a6.77 6.77 0 0 0 4.92 2.05c1.9 0 3.56-.7 4.94-2.08a6.2 6.2 0 0 0 1.17-1.5l-3.2-1.42c-.1.54-.38.98-.8 1.32a2.8 2.8 0 0 1-1.53.58v1.3h-.98v-1.3a3.95 3.95 0 0 1-2.58-1.02l1.16-1.18c.56.51 1.19.77 1.9.77.3 0 .54-.07.75-.2.2-.13.31-.35.31-.65a.66.66 0 0 0-.23-.52l-.82-.35-1-.45-1.35-.6L3.92 8.2zm6.6-4.68a6.6 6.6 0 0 0-4.9 2.05 8 8 0 0 0-.94 1.14l3.25 1.45c.14-.44.41-.8.8-1.07a2.68 2.68 0 0 1 1.39-.44V5.33h.98v1.3c.78.04 1.49.3 2.13.8L12.1 8.56c-.48-.33-.96-.5-1.46-.5-.26 0-.5.05-.7.15-.21.1-.31.28-.31.52 0 .07.02.14.07.2l1.08.49.75.33 1.37.6 4.36 1.94c.14-.6.22-1.21.22-1.83 0-1.95-.67-3.6-2.03-4.93a6.64 6.64 0 0 0-4.92-2.05z",fillRule:"evenodd"});const a=function(e){return r.createElement("svg",o({width:21,height:21},e),i)}},50344:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6 8.3 8.3 0 0 1 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.78 6.78 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.91 2.06c1.9 0 3.55-.69 4.95-2.07a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.9a6.67 6.67 0 0 0-4.91-2.06zm3.2 4.97v1.45H7.55V8.5h6.18zm0 2.73v1.45H7.55v-1.45h6.18z",fillRule:"evenodd"});const a=function(e){return r.createElement("svg",o({width:21,height:21},e),i)}},8969:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M10.48 2c2.38 0 4.4.82 6.04 2.47A8.17 8.17 0 0 1 19 10.5a8.1 8.1 0 0 1-2.43 5.98A8.39 8.39 0 0 1 10.49 19c-2.3 0-4.3-.83-5.99-2.5a8.18 8.18 0 0 1-2.5-6c0-2.32.83-4.33 2.5-6.03A8.15 8.15 0 0 1 10.48 2zm.03 1.53a6.6 6.6 0 0 0-4.9 2.05 6.79 6.79 0 0 0-2.08 4.92c0 1.9.7 3.52 2.07 4.89a6.71 6.71 0 0 0 4.92 2.06c1.89 0 3.54-.7 4.94-2.08a6.5 6.5 0 0 0 2-4.87c0-1.94-.67-3.58-2.03-4.92a6.64 6.64 0 0 0-4.91-2.05zM6.72 9.3a3.8 3.8 0 0 1 1.26-2.42 3.7 3.7 0 0 1 2.47-.86c1.34 0 2.4.43 3.2 1.3a4.7 4.7 0 0 1 1.18 3.3c0 1.3-.41 2.4-1.23 3.26a4.2 4.2 0 0 1-3.2 1.3 3.8 3.8 0 0 1-2.48-.87 3.7 3.7 0 0 1-1.26-2.46H8.8c.05 1.03.67 1.55 1.87 1.55.6 0 1.08-.26 1.44-.78.36-.52.54-1.21.54-2.07 0-.9-.17-1.6-.5-2.06a1.68 1.68 0 0 0-1.45-.71c-1.14 0-1.77.5-1.92 1.5h.62l-1.68 1.68-1.68-1.68h.66z",fillRule:"evenodd"});const a=function(e){return r.createElement("svg",o({width:21,height:21},e),i)}},45957:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(67294);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("g",{fillRule:"evenodd"},r.createElement("path",{d:"M10.5 5.68c-2.76 0-3.46 2.61-3.46 4.82 0 2.21.7 4.82 3.46 4.82s3.46-2.6 3.46-4.82c0-2.21-.7-4.82-3.46-4.82zm0 1.82c.11 0 .21 0 .31.04.2.17.3.4.1.73l-1.83 3.38A9.1 9.1 0 0 1 9 10.49c0-.98.07-3 1.5-3zm1.38 1.55c.1.52.1 1.06.1 1.44 0 .97-.06 3-1.48 3-.11 0-.22-.01-.31-.04l-.06-.02-.1-.03c-.31-.14-.51-.38-.22-.81l2.06-3.55z"}),r.createElement("path",{d:"M10.48 2c-2.36 0-4.34.82-5.96 2.47a8.6 8.6 0 0 0-1.88 2.8A8.35 8.35 0 0 0 2 10.5c0 1.13.21 2.21.64 3.23a8.58 8.58 0 0 0 1.85 2.76 8.84 8.84 0 0 0 2.76 1.87 8.4 8.4 0 0 0 3.23.64c1.13 0 2.22-.22 3.27-.66a8.7 8.7 0 0 0 2.82-1.88 7.72 7.72 0 0 0 1.81-2.68A8.62 8.62 0 0 0 19 10.5a8.6 8.6 0 0 0-.62-3.27 8.12 8.12 0 0 0-1.82-2.74A8.3 8.3 0 0 0 10.48 2zm.04 1.53a6.7 6.7 0 0 1 4.93 2.05 6.81 6.81 0 0 1 1.5 2.25 6.97 6.97 0 0 1 .52 2.67c0 1.95-.67 3.57-2 4.87a7.33 7.33 0 0 1-2.31 1.54 6.92 6.92 0 0 1-5.29 0 7.17 7.17 0 0 1-2.26-1.51 7.33 7.33 0 0 1-1.55-2.27 6.8 6.8 0 0 1 0-5.3 7.3 7.3 0 0 1 1.55-2.28 6.6 6.6 0 0 1 4.9-2.03z"}));const a=function(e){return r.createElement("svg",o({width:21,height:21},e),i)}},25448:(e,t,n)=>{"use strict";n.d(t,{PY:()=>p});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(12291),s=n(10515),c=n(27572),u=n(28309),m=n(81952);function d(){var e=o()(["\n  fragment EmbeddedPost_post on Post {\n    id\n    tags {\n      ...TagList_tags\n    }\n    topics {\n      topicId\n      name\n    }\n  }\n"]);return d=function(){return e},e}(0,i.Ps)(d());var p=(0,l.$j)((function(e){return{embedPostRules:e.config.embedPostRules}}))((function(e){var t=e.postId,n=e.sourcePost,r=e.embedPostRules,o=t||n&&function(e,t){var n;return e?(t.map((function(t){var r,o;return n||((null!==(r=e.topics)&&void 0!==r&&r.some((function(e){var n,r;return!(null==t||null===(n=t.topics)||void 0===n||!n.includes((null==e||null===(r=e.name)||void 0===r?void 0:r.toLowerCase())||""))}))||null!==(o=e.tags)&&void 0!==o&&o.some((function(e){var n,r;return!(null==t||null===(n=t.tags)||void 0===n||!n.includes((null==e||null===(r=e.id)||void 0===r?void 0:r.toLowerCase())||""))})))&&(n=t.embedPostId),n)})),n):n}(n,r);return o?a.createElement(m.T,{postId:o},(function(e){var t=(0,u.Iq)();return e?a.createElement(s.M.Provider,{value:!0},a.createElement(c.cW,{source:{name:"embedded_post"}},a.createElement("div",{className:t({padding:{xs:"16px 0",sm:"16px 0",md:"18px 0",lg:"24px 0",xl:"32px 0"},marginBottom:"25px"})},e))):null})):null}))},55253:(e,t,n)=>{"use strict";n.d(t,{mV:()=>je,Xc:()=>ze,Z3:()=>He});var r=n(28655),o=n.n(r),i=n(71439),a=n(67294),l=n(12291),s=n(63038),c=n.n(s),u=n(59713),m=n.n(u),d=n(7530),p=n(64504),f=n(28309),g={"0%":{visibility:"hidden"},"1%":{visibility:"visible",opacity:0},"100%":{opacity:1}},v={"0%":{opacity:1,visibility:"visible"},"99%":{opacity:0},"100%":{visibility:"hidden"}},E=function(e){return{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1,height:"2px",cursor:"pointer",":focus":{outline:"1px dotted ".concat(e.baseColor.fill.normal)}}},h=function(e){return{backgroundColor:e.baseColor.fill.normal,position:"relative",marginLeft:"-5px",height:"10px",width:"10px",borderRadius:"50%",cursor:"pointer"}};function x(e){var t=~~(e%60);return[~~(e/60),t<10?"0"+t:t].join(":")}var b=function(e){var t=e.duration,n=e.elapsed,r=e.isProgressBeanVisible,o=e.onEnter,i=e.onLeave,l=e.onProgressBeanAnimationEnd,s=e.onTimeUpdate,c=e.shouldProgressBeanAnimate,u=(0,f.Iq)(),m=(0,f.om)({fadeInKeyframesName:g,fadeOutKeyframesName:v}),b=m.fadeInKeyframesName,y=m.fadeOutKeyframesName,P=a.useRef(null),_=n&&t?Math.max(0,Math.min(n/t*100,100)):0,w={left:"".concat(_,"%"),opacity:r?1:0},S=a.useCallback((function(e){var n=e.pageX,r=document.getElementById("audio-player-progress-bar"),o=n-(r.getBoundingClientRect().left+window.scrollX);return t/r.offsetWidth*o}),[t]),C=a.useCallback((function(e){function t(e){s(S(e))}0===e.button&&(s(S(e)),document.addEventListener("mousemove",t),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)})))}),[S,i,s]),I=a.useCallback((function(e){"ArrowLeft"===e.key?s(Math.max(n-5,0)):"ArrowRight"===e.key&&s(Math.min(n+5,t))}),[n,t,s]),R=a.useCallback((function(){document.activeElement!==P.current&&i()}),[null==P?void 0:P.current,i]),L=[h,w];return c&&L.push({animation:"".concat(r?b:y," .2s ease-in-out forwards")}),a.createElement(d.xu,{display:"flex",alignItems:"center"},a.createElement(d.xu,{width:"28px",marginRight:"12px",textAlign:"left"},a.createElement(p.F,{scale:"M"},n?x(n):"--:--")),a.createElement("div",{className:u([E,function(e){return{background:"linear-gradient(to right, ".concat(e.baseColor.fill.normal," ").concat(_,"%, ").concat(e.baseColor.background.normal," 0)")}}]),id:"audio-player-progress-bar",role:"slider",ref:P,"aria-valuemin":0,"aria-valuemax":t,"aria-valuenow":n,tabIndex:0,onMouseDown:C,onFocus:o,onBlur:R,onKeyDown:I,onMouseEnter:o,onMouseLeave:R},a.createElement("div",{className:u(L),onAnimationEnd:l})),a.createElement(d.xu,{width:"28px",marginLeft:"12px",textAlign:"right"},a.createElement(p.F,{scale:"M"},t?x(t):"--:--")))},y=n(62630);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=a.createElement("g",{transform:"translate(5 4)",fillRule:"evenodd"},a.createElement("rect",{width:6,height:17,rx:2}),a.createElement("rect",{x:9,width:6,height:17,rx:2}));const w=function(e){return a.createElement("svg",P({width:25,height:25},e),_)};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=a.createElement("path",{d:"M7 4v17.03a.5.5 0 0 0 .8.4l11.1-8.1a1 1 0 0 0 0-1.62L7.8 3.6A.5.5 0 0 0 7 4z"});const I=function(e){return a.createElement("svg",S({width:25,height:25},e),C)};var R=function(e){return{borderRadius:"4px",padding:"8px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",display:"inline-block",textDecoration:"none",color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,background:0,borderColor:e.baseColor.border.dark,":hover":{cursor:"pointer",color:e.baseColor.text.darker,fill:e.baseColor.fill.darker,borderColor:e.baseColor.border.darker}}},L=function(e){var t=e.dispatch,n=e.postId,r=e.isPlaying,o=(0,f.Iq)(),i=(0,y.Av)(),l=a.useCallback((function(){var e=document.getElementById("audio-player");r?(i.event("audio.end",{postId:n}),e.pause(),t({type:"pause"})):(i.event("audio.start",{postId:n}),e.play(),t({type:"play"}))}),[r]);return a.createElement("button",{onClick:l,className:o(R)},r?a.createElement(w,null):a.createElement(I,null))},k=n(16528),T=n(62876),B=n(27572),O=n(96907),A=n(33336);function M(){var e=o()(["\n  fragment AudioPlayback_post on Post {\n    id\n    audioVersionUrl\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    ...UpsellClickable_post\n  }\n  ","\n"]);return M=function(){return e},e}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={duration:0,elapsed:0,playing:!1},U=function(e,t){switch(t.type){case"load":return D(D({},e),{},{duration:t.duration});case"play":return D(D({},e),{},{playing:!0});case"pause":return D(D({},e),{},{playing:!1});case"seek":return D(D({},e),{},{elapsed:t.clickedTime});case"progress":return D(D({},e),{},{elapsed:t.elapsed});case"end":return D(D({},e),{},{playing:!1});default:return e}},j=function(e){var t=e.postId,n=e.audioVersionUrl,r=a.useReducer(U,N),o=c()(r,2),i=o[0],l=o[1],s=i.duration,u=i.elapsed,m=i.playing,f=a.useState(!1),g=c()(f,2),v=g[0],E=g[1],h=a.useState(!1),x=c()(h,2),y=x[0],P=x[1],_=a.useCallback((function(){E((function(e){return P(!!e),!1}))}),[]),w=a.useCallback((function(){E((function(e){return P(!e),!0}))}),[]);return a.useEffect((function(){var e=document.getElementById("audio-player");function t(){l({type:"load",duration:e.duration})}function n(){l({type:"progress",elapsed:e.currentTime})}function r(){l({type:"end"})}return e.addEventListener("canplay",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",r),function(){e.removeEventListener("canplay",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",r)}}),[]),a.useEffect((function(){var e=document.getElementById("audio-player");Math.round(u)!==Math.round(e.currentTime)&&document.hasFocus()&&(e.currentTime=u)}),[u]),a.createElement(d.xu,{display:"flex",justifyContent:"center",margin:"20px 0"},a.createElement("audio",{id:"audio-player"},a.createElement("source",{src:n})),a.createElement(d.xu,{display:"flex",alignItems:"center",flexGrow:"1"},a.createElement(d.xu,{marginRight:"16px"},a.createElement(L,{dispatch:l,postId:t,isPlaying:m})),a.createElement(d.xu,{display:"flex",flexDirection:"column",flexGrow:"1"},a.createElement(p.F,{scale:"M",color:"DARKER"},"Listen to this story"),a.createElement(b,{elapsed:u,duration:s,isProgressBeanVisible:v,onEnter:w,onLeave:_,onProgressBeanAnimationEnd:function(){return P(!1)},onTimeUpdate:function(e){return l({type:"seek",clickedTime:Math.max(0,Math.min(e,s))})},shouldProgressBeanAnimate:y}))))},H=function(e){return{fill:e.baseColor.fill.light,marginLeft:"15px",marginRight:"15px"}},z=function(e){var t=e.post,n=(0,f.Iq)();return a.createElement(d.MI,{columns:8,display:"flex",flexShrink:"0",margin:"30px 0",padding:"20px 12px",backgroundColor:"BASE_LIGHT"},a.createElement(A.Z,{className:n(H)}),a.createElement(p.F,{scale:"S",color:"DARKER",tag:"span"},"Psst... there’s an audio version of this story."," ",a.createElement(T.a,{post:t,linkStyle:"OBVIOUS"},"Upgrade to listen")))};function W(e){var t=e.post,n=t.id,r=t.audioVersionUrl,o=(t.content||{}).isLockedPreviewOnly;return a.createElement(d.xu,{marginTop:"30px"},a.createElement(k.Q_,null,(function(e){return e&&e.mediumMemberAt||!o?a.createElement(j,{postId:n,audioVersionUrl:r}):a.createElement(B.cW,{source:{dimension:"audio_exclusive",name:"upgrade_membership",postId:n}},a.createElement(O.M,null,a.createElement(z,{post:t})))})))}var q=(0,i.Ps)(M(),T.H),V=n(50008),$=n.n(V),G=n(23450),Z=n.n(G),X=n(94093),Y=n(51562),K=function(e){var t=e.featureString,n=e.link,r=e.text,o=e.showTrialMeter;return a.createElement(Y.W,{featureString:t,target:o?"cc-trial-highlight-box":"highlight-box"},a.createElement(X.I,null,a.createElement(Y.W,{featureString:t,target:o?"cc-trial-copy":"copy",tag:"span"},r," "),a.createElement(d.xu,{display:"inline",whiteSpace:"nowrap"},a.createElement(Y.W,{featureString:t,target:o?"cc-trial-link":"link",tag:"span"},n))))},Q=n(85740),J=n(5731),ee=n(67297),te=n(27952);function ne(){var e=o()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return ne=function(){return e},e}var re=function(e){var t=e.meterCount,n=e.meterLimit,r=e.post,o=(0,k.Hk)().value,i=(0,y.Av)(),l=null==o?void 0:o.isMembershipTrialEligible,s=!(!(0,Q.P5)("enable_trial_upsell")||!l),c="li-highlight-meter-".concat(t);a.useEffect((function(){i.event("meter.viewed",{uiType:J.j.LIHighlightCTA,postId:r.id,meterCount:t,userId:null==o?void 0:o.id}),l&&i.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var u,m=(0,ee.v)((function(e){return e.config.authDomain})),d=a.createElement(O.M,{tag:"span"},a.createElement(T.a,{linkStyle:"OBVIOUS",post:r,inline:!0,redirectUrl:(0,te.c5p)(m)},s?"Start your free trial":"Upgrade for unlimited access."));return a.createElement(B.cW,{source:{dimension:"post_counter",name:"upgrade_membership",postId:r.id}},a.createElement(K,{featureString:c,text:(u=n-t,u<=0?a.createElement(a.Fragment,null,"This is your ",a.createElement("b",null,"last")," free member-only story this month."):a.createElement(a.Fragment,null,"You have ",a.createElement("b",null,u)," free member-only ",Z()("story",u)," left this month.")),link:d,showTrialMeter:s}))},oe=(0,i.Ps)(ne(),T.H),ie=n(62181);function ae(){var e=o()(["\n  fragment LOHighlightMeter_post on Post {\n    id\n  }\n"]);return ae=function(){return e},e}var le=function(e){switch(e){case 1:return a.createElement(a.Fragment,null,"You have ",a.createElement("b",null,"2")," free member-only stories left this month.");case 2:return a.createElement(a.Fragment,null,"You have ",a.createElement("b",null,"1")," free member-only story left this month.");case 3:return a.createElement(a.Fragment,null,"This is your ",a.createElement("b",null,"last")," free member-only story this month.");default:return a.createElement(a.Fragment,null,"You've read all your free member-only stories this month.")}},se=function(e){var t=e.meterCount,n=e.post,r=(0,ee.v)((function(e){return e.config.productName})),o=function(e){switch(e){case 3:return"metered_view_3";case 2:return"metered_view_2";case 1:default:return"smart_meter"}}(t),i=(0,y.Av)(),l="lo-highlight-meter-".concat(t);a.useEffect((function(){i.event("meter.viewed",{uiType:J.j.LOHighlightCTA,postId:n.id,meterCount:t})}),[]);var s=a.createElement(ie.R9,{linkStyle:"OBVIOUS",inline:!0,operation:"register",susiEntry:o},"Sign up for ".concat(r," and get an extra one"));return a.createElement(B.cW,{source:{postId:n.id}},a.createElement(K,{featureString:l,text:le(t),link:s,showTrialMeter:!1}))},ce=(0,i.Ps)(ae()),ue=n(93125),me=n(31285),de=n(11348),pe=n(31235),fe=n(172);function ge(){var e=o()(["\n  fragment MeterController_meteringInfo on MeteringInfo {\n    postIds\n    maxUnlockCount\n  }\n"]);return ge=function(){return e},e}function ve(){var e=o()(["\n  fragment MeterController_post on Post {\n    creator {\n      id\n    }\n    isLocked\n    lockedSource\n    ...LIHighlightMeter_post\n    ...LOHighlightMeter_post\n    ...SusiContainer_post\n  }\n  ","\n  ","\n  ","\n"]);return ve=function(){return e},e}var Ee=function(e){var t=e.meteringInfo,n=e.post,r=e.viewer,o=a.useState(!1),i=c()(o,2),l=i[0],s=i[1],u=t.maxUnlockCount||3,m=t.postIds.length;return m<=u?(0,de.sy)()&&(0,ue.Dk)(r)?((0,de.Of)(),null):(l||s(!0),a.createElement(re,{meterCount:m,post:n,meterLimit:u})):null},he=function(e){var t=e.meterCount,n=e.post,r=a.useState(!1),o=c()(r,2),i=o[0],l=o[1];switch(t){case 1:case 2:case 3:return i||l(!0),a.createElement(se,{meterCount:t,post:n});default:return null}},xe=function(e){var t=e.meteringInfo,n=e.post,r=(0,l.I0)(),o=(0,f.Iq)(),i=(0,pe.xg)(),s=a.useState(!1),u=c()(s,2),m=u[0],d=u[1];a.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":$()(document))&&d(!0),r((0,fe.Dl)(!1))}),[]);var p=(0,k.Hk)(),g=p.loading,v=p.error,E=p.value;if(g||v)return a.createElement(a.Fragment,null);var h=E&&E.mediumMemberAt||void 0,x=n&&n.creator&&n.creator.id||void 0,b=E&&E.id||void 0,y=E?h||x===b:"LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,P=!m||!n.isLocked||!t.postIds.includes(n.id)||y,_=m&&!P,w={height:_?"80px":"0px",overflow:_?"inherit":"hidden",transition:"height 2s cubic-bezier(0.23, 1, 0.32, 1) 0s"},S=E?a.createElement(Ee,{meteringInfo:t,post:n,viewer:E}):a.createElement(he,{meterCount:t.postIds.length,post:n});return a.createElement("div",{className:i?o(w):void 0},!P&&S)},be=(0,i.Ps)(ve(),oe,ce,me.qt),ye=(0,i.Ps)(ge());function Pe(){var e=o()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    newsletterV3 {\n      id\n      slug\n      name\n    }\n  }\n"]);return Pe=function(){return e},e}var _e=(0,i.Ps)(Pe()),we=function(e){var t=e.collection,n=(0,ee.v)((function(e){return e.config.authDomain})),r=t.newsletterV3||{id:"",slug:"",name:""},o=(0,te.iBn)(r.slug,n,t),i=function(){return a.createElement(d.rU,{inline:!0,linkStyle:"OBVIOUS",href:o},r.name)};return a.createElement(a.Fragment,null,a.createElement(X.I,null,t.newsletterV3?a.createElement(a.Fragment,null,"This is an email from ",a.createElement(i,null),", a newsletter by ",t.name,"."):a.createElement(a.Fragment,null,"This is an email from ",t.name,".")))},Se=n(78415),Ce=n(46829),Ie=n(5977),Re=n(22091),Le=n(51064),ke=function(e){var t=e.children,n=e.onHide,r=void 0===n?function(){}:n,o=(0,Le.O)(!0),i=c()(o,3),l=i[0],s=i[2],u=a.useCallback((function(){s(),r()}),[r]);return l?a.createElement(Re.xu,{border:"BASE_LIGHT",borderRadius:"4px",padding:"16px 8px 16px 28px",display:"flex",justifyContent:"space-between",alignItems:"center"},a.createElement(p.F,{scale:"L",color:"DARKER"},t),a.createElement(Re.PZ,{onClick:u,isPositionAbsolute:!1,size:"REGULAR"})):null},Te=n(8403),Be=n(11642);function Oe(){var e=o()(["\n  query PostNoteMissingNotificationQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n      content(postMeteringOptions: $postMeteringOptions) {\n        bodyModel {\n          paragraphs {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return Oe=function(){return e},e}function Ae(){var e=o()(["\n  fragment PostNoteMissingNotification_post on Post {\n    id\n  }\n"]);return Ae=function(){return e},e}var Me=function(e){var t,n,r,o,i,l=e.post,s=(0,ee.v)((function(e){return e.navigation.referrer})),u=(0,Ie.TH)().hash,m=(0,Te.G1)(),d=(0,Te.PM)(),p=(0,Ce.useLazyQuery)(De,{variables:{postId:null==l?void 0:l.id,postMeteringOptions:{referrer:s,sk:m,source:d}},ssr:!1}),f=c()(p,2),g=f[0],v=f[1],E=v.called,h=v.loading,x=v.error,b=v.data,y=null==u||null===(t=u.replace("#",""))||void 0===t?void 0:t.split("-"),P=c()(y,2),_=P[0],w=P[1],S=(null!=b?b:{}).post,C=null==S||null===(n=S.privateNotes)||void 0===n?void 0:n.find((function(e){return(null==e?void 0:e.id)===w})),I=null!==(r=null==S||null===(o=S.content)||void 0===o||null===(i=o.bodyModel)||void 0===i?void 0:i.paragraphs)&&void 0!==r?r:[],R=new Set(I.map((function(e){return e.name})).filter(Be.b)),L=!!C&&R.has(_),k=(0,Le.O)(!!w&&!L),T=c()(k,3),B=T[0],O=T[1],A=T[2];return a.useEffect((function(){w&&!L?O():A()}),[L]),!E&&w&&g(),h||x||!B?null:a.createElement(Re.xu,{marginTop:"64px"},a.createElement(ke,{onHide:A},"The note you're looking for was deleted"))},Fe=(0,i.Ps)(Ae()),De=(0,i.Ps)(Oe());function Ne(){var e=o()(["\n  fragment PostHeader_meteringInfo on MeteringInfo {\n    ...MeterController_meteringInfo\n  }\n  ","\n"]);return Ne=function(){return e},e}function Ue(){var e=o()(["\n  fragment PostHeader_post on Post {\n    inResponseToPostResult {\n      ... on PostResult {\n        ...InResponseToPostPreview_postResult\n      }\n    }\n    topics {\n      name\n    }\n    tags {\n      id\n    }\n    collection {\n      ...NewsletterV3PostHeaderCTA_collection\n    }\n    layerCake\n    isLocked\n    id\n    firstPublishedAt\n    isNewsletter\n    ...InResponseToPostPreview_mediaResource\n    ...MeterController_post\n    ...PostNoteMissingNotification_post\n    ...AudioPlayback_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ue=function(){return e},e}var je=(0,l.$j)((function(e){return{isAmp:e.config.isAmp}}))((function(e){var t=e.meteringInfo,n=e.post,r=e.isAmp,o=e.showMixtape,i=void 0===o||o;return a.createElement(d.MI,{columns:8},a.createElement(Me,{post:n}),n.isNewsletter&&!!n.collection&&a.createElement(we,{collection:n.collection}),i&&a.createElement(Se.CV,{inResponseToPostResult:n.inResponseToPostResult,inResponseToMediaResource:n.inResponseToMediaResource,padding:"10px 0 0"}),!!n.isLocked&&!!t&&a.createElement(xe,{meteringInfo:t,post:n}),n.audioVersionUrl&&!r&&a.createElement(W,{post:n}))})),He=(0,i.Ps)(Ue(),Se.zJ,Se.KI,be,Fe,q,_e),ze=(0,i.Ps)(Ne(),ye)},62182:(e,t,n)=>{"use strict";n.d(t,{p3:()=>U,Yi:()=>W,uI:()=>q});var r=n(28655),o=n.n(r),i=n(50008),a=n.n(i),l=n(63038),s=n.n(l),c=n(59713),u=n.n(c),m=n(71439),d=n(67294),p=n(28859),f=n(84783),g=n(22669),v=n(43689),E=n(50493),h=n(88065),x=n(47713),b=n(99046),y=n(49925),P=n(93125),_=n(49800),w=n(51684),S=n(31001),C=n(7530),I=n(64504),R=n(67995),L=n(27572),k=n(28309),T=n(67297),B=n(89349),O=n(21146),A=n(27952);function M(){var e=o()(["\n  fragment PostSidebar_post on Post {\n    id\n    clapCount\n    collection {\n      ...auroraHooks_publisher\n      ...PostSidebar_collection\n    }\n    creator {\n      bio\n      name\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n    }\n    isShortform\n    ...BookmarkButton_post\n    ...CollectionFollowButton_post\n    ...MultiVote_post\n    ...ResponsesIconButton_post\n    ...UserFollowButton_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return M=function(){return e},e}function F(){var e=o()(["\n  fragment PostSidebar_collection on Collection {\n    id\n    description\n    tagline\n    ...CollectionFollowButton_collection\n    ...collectionUrl_collection\n  }\n  ","\n  ","\n"]);return F=function(){return e},e}var D={wordBreak:"break-word"},N=function(e){var t;return t={opacity:e?1:0,pointerEvents:e?"auto":"none",willChange:"opacity",position:"fixed",width:"188px",left:"50%",transform:"translateX(406px)",top:"calc(".concat(v.Je,"px + 54px + 14px)")},u()(t,(0,B.nk)("no-preference"),{transition:"opacity 200ms"}),u()(t,"@media all and (max-width: 1230px)",{display:"none"}),t},U=d.forwardRef((function(e,t){var n,r=e.isClearOfBounds,o=e.isOnPage,i=e.post,l=e.showResponsesSidebar,c=(0,T.v)((function(e){return e.navigation.currentLocation})),u=(0,k.Iq)(),m=d.useContext(p.u6).watchedBounds,f=d.useState(o||!1),g=s()(f,2),v=g[0],h=g[1],S=d.useState(r||!1),I=s()(S,2),R=I[0],B=I[1],A=d.useRef(null),M=d.useRef(null),F=d.useRef(null),D=i.collection;d.useEffect(z(m,h),[m]);var U=d.useCallback(function(e,t,n,r,o){return function(){if(e.current){var i=t.current,a=["image","bgimage","footer","byline","title","header"],l=(0,w.b2)(e,n,a,o),s=!i||(0,w.b2)(t,n,a,o);r(l&&s)}}}(A,M,m,B,{threshold:10}),[m,B]);d.useEffect((function(){U()}),[]);var W="object"===a()(t)?t:null;d.useEffect((0,w.hE)(U,null==W?void 0:W.current),[U,null==W?void 0:W.current]);var q=R&&v,V=(0,y.GT)(D||i.creator)?d.createElement(H,{post:i}):D&&d.createElement(j,{post:i,currentLocation:c}),$=function(e,t){var n,r,o,i,a=null===(n=e.get("byline"))||void 0===n||null===(r=n.ref)||void 0===r?void 0:r.current,l=null===(o=e.get("ghost-track"))||void 0===o||null===(i=o.ref)||void 0===i?void 0:i.current,s=l&&(0,O.L6)(l).top+window.scrollY-window.innerHeight||0;if(a&&l){var c=a.offsetTop+a.offsetHeight+10;return c-s}}(m);return d.createElement(L.cW,{source:{susiEntry:"post_sidebar",name:"post_sidebar"}},d.createElement(w.HX,{testId:"post-sidebar",isFixed:!0,scrollableRef:t,sidebarRef:A,topOffset:$,visible:q},i.isShortform?V:d.createElement(d.Fragment,null,d.createElement("div",{ref:F},V,d.createElement(C.xu,{display:"flex",marginBottom:"19px",marginLeft:"-3px",paddingTop:"28px"},d.createElement(b.S,{post:i,buttonStyle:"SUBTLE_PADDED",susiEntry:"clap_sidebar",hasDialog:!0})),d.createElement(L.cW,{source:{postId:i.id},extendSource:!0},d.createElement(C.xu,{marginBottom:"19px"},d.createElement(_.h,{responsesCount:null===(n=i.postResponses)||void 0===n?void 0:n.count,location:"sidebar",showResponsesSidebar:l,allowResponses:i.allowResponses,postId:i.id,isLimitedState:i.isLimitedState})),d.createElement(x.o,{post:i,susiEntry:"bookmark_sidebar"}))),d.createElement(E.ZP,{post:i,mode:"SIDEBAR",heightRef:F}))),d.createElement("div",{className:u(N(q)),ref:M},d.createElement(P._U,{postId:i.id,isVisible:q})))})),j=function(e){var t=e.post,n=e.currentLocation,r=(0,k.Iq)(),o=(0,R.n)({name:"heading",scale:"XS"}),i=(0,T.v)((function(e){return e.config.authDomain})),a=t.collection;if(!a)return null;var l=t.isShortform?"NONE":"BASE_LIGHTER";return d.createElement(C.xu,{paddingBottom:"28px",borderBottom:l},(null==a?void 0:a.name)&&d.createElement(C.rU,{href:(0,A.WGd)(a,n,i)},d.createElement("h2",{className:r([o,D])},a.name)),(a.tagline||a.description)&&d.createElement(C.xu,{paddingTop:"2px",paddingBottom:"20px"},d.createElement(I.F,{scale:"M",clamp:6},a.tagline||a.description)),d.createElement(f.Fp,{buttonSize:"REGULAR",collection:a,post:t,susiEntry:"follow_sidebar"}))},H=function(e){var t=e.post,n=(0,T.v)((function(e){return e.config.authDomain})),r=(0,k.Iq)(),o=(0,R.n)({name:"heading",scale:"XS"}),i=t.creator;if(!i||!i.name)return null;var a=d.createElement("h2",{className:r([o,D])},i.name),l=i?d.createElement(C.rU,{href:(0,A.AWr)(i,n)},a):a,s=t.isShortform?"NONE":"BASE_LIGHTER";return d.createElement(C.xu,{paddingBottom:"28px",borderBottom:s},d.createElement(C.xu,{paddingBottom:"5px"},l),i.bio&&d.createElement(C.xu,{paddingTop:"2px"},d.createElement(I.F,{scale:"M"},d.createElement(g.Z,{wrapLinks:!0},i.bio))),d.createElement(C.xu,{paddingTop:"14px"},d.createElement(S.Bv,{buttonSize:"REGULAR",post:t,user:i,susiEntry:"follow_card"})))},z=function(e,t){return function(){var n=new IntersectionObserver((function(n){var r=e.get("ghost-track");if(r){var o=n.find((function(e){return e.target===r.ref.current}));o&&t(o.isIntersecting)}else t(!1)}));return e.forEach((function(e){e.ref.current&&n.observe(e.ref.current)})),function(){n.disconnect()}}},W=(0,m.Ps)(F(),f.Iq,A.nfI),q=(0,m.Ps)(M(),y.C5,W,S.sj,h.z,f.b3,b.x,_.K,S.S$,E.tA,A.$mN)},11505:(e,t,n)=>{"use strict";n.d(t,{HB:()=>z,bj:()=>$,_x:()=>G,Pq:()=>Z});var r=n(28655),o=n.n(r),i=n(50008),a=n.n(i),l=n(63038),s=n.n(l),c=n(59713),u=n.n(c),m=n(71439),d=n(67294),p=n(28859),f=n(84783),g=n(22669),v=n(43689),E=n(50493),h=n(88065),x=n(47713),b=n(99046),y=n(78886),P=n(49925),_=n(93125),w=n(49800),S=n(16528),C=n(51684),I=n(31001),R=n(7530),L=n(64504),k=n(67995),T=n(27572),B=n(28309),O=n(67297),A=n(89349),M=n(21146),F=n(27952);function D(){var e=o()(["\n  fragment PostSidebarWithBlogrolls_post on Post {\n    id\n    clapCount\n    collection {\n      ...auroraHooks_publisher\n      ...PostSidebarWithBlogrolls_collection\n    }\n    creator {\n      bio\n      name\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n      ...PublisherSidebarFollows_user\n    }\n    isShortform\n    ...BookmarkButton_post\n    ...CollectionFollowButton_post\n    ...MultiVote_post\n    ...ResponsesIconButton_post\n    ...UserFollowButton_post\n    ...TableOfContents_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return D=function(){return e},e}function N(){var e=o()(["\n  fragment PostSidebarWithBlogrolls_collection on Collection {\n    id\n    description\n    tagline\n    ...CollectionFollowButton_collection\n    ...collectionUrl_collection\n  }\n  ","\n  ","\n"]);return N=function(){return e},e}function U(){var e=o()(["\n  fragment PostSidebarWithBlogrolls_customStyleSheet on CustomStyleSheet {\n    ...PublisherSidebarFollows_customStyleSheet\n  }\n  ","\n"]);return U=function(){return e},e}var j={wordBreak:"break-word"},H=function(e){var t;return t={opacity:e?1:0,pointerEvents:e?"auto":"none",willChange:"opacity",position:"fixed",width:"188px",left:"50%",transform:"translateX(406px)",top:"calc(".concat(v.Je,"px + 54px + 14px)")},u()(t,(0,A.nk)("no-preference"),{transition:"opacity 200ms"}),u()(t,"@media all and (max-width: 1230px)",{display:"none"}),t},z=d.forwardRef((function(e,t){var n,r=e.isClearOfBounds,o=e.isOnPage,i=e.customStyleSheet,l=e.post,c=e.showResponsesSidebar,u=e.extraWide,m=(0,O.v)((function(e){return e.navigation.currentLocation})),f=(0,B.Iq)(),g=d.useContext(p.u6).watchedBounds,v=d.useState(o||!1),h=s()(v,2),y=h[0],S=h[1],I=d.useState(0),L=s()(I,2),k=L[0],A=L[1],F=d.useState(r||!1),D=s()(F,2),N=D[0],U=D[1],j=d.useRef(null),z=d.useRef(null),$=d.useRef(null),G=function(e,t){var n,r,o,i,a=null===(n=e.get("byline"))||void 0===n||null===(r=n.ref)||void 0===r?void 0:r.current,l=null===(o=e.get("ghost-track"))||void 0===o||null===(i=o.ref)||void 0===i?void 0:i.current,s=l&&(0,M.L6)(l).top+window.scrollY-window.innerHeight||0;if(a&&l){var c=a.offsetTop+a.offsetHeight+10;return c-s}}(g),Z=l.collection;d.useEffect(V(g,S),[g]);var X=d.useCallback((function(){var e,t;if(function(e,t,n,r,o){if(e.current){var i=t.current,a=["image","bgimage","footer","byline","title","header"],l=(0,C.b2)(e,n,a,o),s=!i||(0,C.b2)(t,n,a,o);r(l&&s)}}(j,z,g,U,{threshold:10}),null!=j&&null!==(e=j.current)&&void 0!==e&&e.clientHeight&&null!==(t=window)&&void 0!==t&&t.innerHeight&&G){var n,r,o=window.innerHeight-G-80;k&&(null==j||null===(n=j.current)||void 0===n?void 0:n.clientHeight)<=o?A(0):o<=(null==j||null===(r=j.current)||void 0===r?void 0:r.clientHeight)&&A(Math.max(o,150))}}),[g,U,k]);d.useEffect((function(){X()}),[]);var Y="object"===a()(t)?t:null;d.useEffect((0,C.hE)(X,null==Y?void 0:Y.current),[X,null==Y?void 0:Y.current]);var K=N&&y,Q=(0,P.GT)(Z||l.creator)?d.createElement(q,{post:l,customStyleSheet:i,isVisible:K}):Z&&d.createElement(W,{post:l,currentLocation:m}),J={maxHeight:"".concat(k,"px"),overflowY:"scroll",scrollbarWidth:"none","-ms-overflow-style":"none","::-webkit-scrollbar":{display:"none"}};return d.createElement(T.cW,{source:{susiEntry:"post_sidebar",name:"post_sidebar"}},d.createElement(C.HX,{testId:"post-sidebar",isFixed:!0,scrollableRef:t,sidebarRef:j,topOffset:G,visible:K,extraWide:u},l.isShortform?Q:d.createElement(d.Fragment,null,d.createElement("div",{ref:$},k?d.createElement("div",{className:f(J)},Q):Q,d.createElement(R.xu,{display:"flex",flexDirection:"row",borderTop:"BASE_LIGHTER",paddingTop:"32px",justifyContent:"flex-start"},d.createElement(R.xu,{display:"flex",marginTop:"-7px",marginBottom:"19px",marginLeft:"-3px",marginRight:"27px"},d.createElement(b.S,{post:l,buttonStyle:"SUBTLE_PADDED",susiEntry:"clap_sidebar",hasDialog:!0})),d.createElement(T.cW,{source:{postId:l.id},extendSource:!0},d.createElement(R.xu,{marginBottom:"19px",marginRight:"16px"},d.createElement(w.h,{responsesCount:null===(n=l.postResponses)||void 0===n?void 0:n.count,location:"sidebar",showResponsesSidebar:c,allowResponses:l.allowResponses,postId:l.id,isLimitedState:l.isLimitedState})),d.createElement(x.o,{post:l,susiEntry:"bookmark_sidebar"})))),d.createElement(E.ZP,{post:l,mode:"SIDEBAR",heightRef:$}))),d.createElement("div",{className:f(H(K)),ref:z},d.createElement(_._U,{postId:l.id,isVisible:K})))})),W=function(e){var t=e.post,n=e.currentLocation,r=(0,B.Iq)(),o=(0,k.n)({name:"heading",scale:"XS"}),i=(0,O.v)((function(e){return e.config.authDomain})),a=t.collection;return a?d.createElement(R.xu,{marginBottom:"32px"},(null==a?void 0:a.name)&&d.createElement(R.rU,{href:(0,F.WGd)(a,n,i)},d.createElement("h2",{className:r([o,j])},a.name)),(a.tagline||a.description)&&d.createElement(R.xu,{paddingTop:"2px",paddingBottom:"20px"},d.createElement(L.F,{scale:"M",clamp:6},a.tagline||a.description)),d.createElement(f.Fp,{buttonSize:"REGULAR",collection:a,post:t,susiEntry:"follow_sidebar"})):null},q=function(e){var t=e.post,n=e.customStyleSheet,r=e.isVisible,o=(0,S.Hk)().value,i=(0,O.v)((function(e){return e.config.authDomain})),a=(0,B.Iq)(),l=(0,k.n)({name:"heading",scale:"XS"}),s=t.creator;if(!s||!s.name)return null;var c=d.createElement("h2",{className:a([l,j])},s.name),u=s?d.createElement(R.rU,{href:(0,F.AWr)(s,i)},c):c;return d.createElement(d.Fragment,null,d.createElement(R.xu,{marginBottom:"32px"},d.createElement(R.xu,{paddingBottom:"5px"},u),s.bio&&d.createElement(R.xu,{paddingTop:"2px"},d.createElement(L.F,{scale:"M"},d.createElement(g.Z,{wrapLinks:!0},s.bio))),(null==o?void 0:o.id)!==s.id&&d.createElement(R.xu,{paddingTop:"14px"},d.createElement(I.Bv,{buttonSize:"REGULAR",post:t,user:s,susiEntry:"follow_card"}))),d.createElement(y.Lk.Provider,{value:{postId:t.id}},d.createElement(y.eB,{withBottomBorder:!0,publisher:s,customStyleSheet:n,isVisible:r})))},V=function(e,t){return function(){var n=new IntersectionObserver((function(n){var r=e.get("ghost-track");if(r){var o=n.find((function(e){return e.target===r.ref.current}));o&&t(o.isIntersecting)}else t(!1)}));return e.forEach((function(e){e.ref.current&&n.observe(e.ref.current)})),function(){n.disconnect()}}},$=(0,m.Ps)(U(),y.qy),G=(0,m.Ps)(N(),f.Iq,F.nfI),Z=(0,m.Ps)(D(),P.C5,G,I.sj,h.z,f.b3,b.x,w.K,I.S$,E.tA,F.$mN,y.FB)},90163:(e,t,n)=>{"use strict";n.d(t,{p:()=>Gt,F9:()=>Zt,ZP:()=>$t});var r=n(28655),o=n.n(r),i=n(63038),a=n.n(i),l=n(71439),s=n(67294),c=n(28859),u=n(6742),m=n(25448),d=n(78415),p=n(65340),f=n(7530),g=n(37278),v=n(27572);const E=function(e){var t=e.posts,n=e.sourceName;return t.length?s.createElement(f.xu,{marginTop:"24px",marginBottom:"40px"},s.createElement(f.xu,{borderBottom:"BASE_LIGHTER",marginTop:"24px",marginBottom:"24px",paddingBottom:"16px",sm:{marginTop:"16px",paddingBottom:"12px"}},s.createElement(g.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"More From Medium")),s.createElement(f.T5,{alignItems:"flex-start"},t.map((function(e,t){return s.createElement(f.P4,{key:"post-internal-link-".concat(t),size:{xs:12,sm:12,md:6,lg:3,xl:3}},s.createElement(f.xu,{paddingBottom:"24px",maxWidth:"500px"},s.createElement(v.cW,{source:{name:n,index:t}},s.createElement(p.Z,{post:e}))))})))):null};function h(){var e=o()(["\n  fragment PostInternalLinks_post on Post {\n    id\n    internalLinks(paging: {limit: 8}) @include(if: $includePostInternalLinks) {\n      items {\n        ... on Post {\n          ...PostRecircItemV2_post\n        }\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}var x=(0,l.Ps)(h(),p.D);const b=function(e){var t,n=e.post,r=e.sourceName,o=(null==n||null===(t=n.internalLinks)||void 0===t?void 0:t.items)||[];return o&&0!==o.length?s.createElement(E,{posts:o,sourceName:r}):null};var y=n(12291),P=n(67297),_="tierB",w={1:"tierA",2:"tierA",other:"tierA"},S=n(28309),C=s.createContext(!1),I=function(e){var t=(0,S.Iq)();return s.createElement("div",{className:t({padding:{xs:"16px 22px",sm:"16px 22px",md:"18px 24px",lg:"24px 30px",xl:"32px 40px"},marginBottom:"25px",backgroundColor:"#f4f4f4",borderLeft:"4px solid rgba(2, 184, 117, 1)"})},e.children)},R=n(81952),L=((0,y.$j)((function(e){return{embeddedPostIds:e.config.embeddedPostIds}}))((function(e){var t=e.embeddedPostIds,n=null==t?void 0:t.coronavirus;return n?s.createElement(R.T,{postId:n},(function(e){return e?s.createElement(C.Provider,{value:!0},s.createElement(I,null,e)):null})):null})),n(67154)),k=n.n(L),T=n(2955),B=n(46829),O=n(68127),A=n(62630);function M(e){var t=e.posts,n=e.sourceName,r=s.useRef(null),o=(0,A.Av)();return s.useEffect((function(){o.event("experiment.eligible",{experimentId:"57b820b82d68"})}),[]),0===t.length?null:s.createElement(f.xu,{margin:"32px 0",md:{marginBottom:"0px"},ref:r},s.createElement(f.xu,{marginBottom:"32px",borderBottom:"BASE_LIGHTER",paddingBottom:"8px"},s.createElement(g.X6,{scale:"S"},"More From Medium")),s.createElement(f.T5,{alignItems:"flex-start"},t.map((function(e,t){return s.createElement(f.P4,{key:"recirc-".concat(t),size:{xs:12,sm:12,md:12,lg:4,xl:4}},s.createElement(v.cW,{source:{name:n,index:t}},s.createElement(O.Z,{post:e,target:r})))}))))}function F(e,t){var n=(0,B.useLazyQuery)(e,t),r=a()(n,2),o=r[0],i=r[1];return[s.useCallback((function(e){!i.called&&e.isIntersecting&&o()}),[i]),i]}var D=n(50077),N=n(72955);function U(){var e=o()(["\n  fragment PostNextFiveStories_post on Post {\n    firstPublishedAt\n    pinnedAt\n  }\n"]);return U=function(){return e},e}function j(){var e=o()(["\n  query PostNextFiveStoriesUser($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: user(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return j=function(){return e},e}function H(){var e=o()(["\n  query PostNextFiveStoriesCollection($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: collection(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return H=function(){return e},e}function z(){var e=o()(["\n  fragment PostNextFiveStories_Publisher on Publisher {\n    __typename\n    id\n    homepagePostsConnection(paging: {limit: $limit, from: $from}) {\n      posts {\n        ...TruncatedPostCard_post\n      }\n    }\n    ...CardByline_publisher\n  }\n  ","\n  ","\n"]);return z=function(){return e},e}var W=(0,l.Ps)(z(),T.Dn,D.Gk),q=(0,l.Ps)(H(),W),V=(0,l.Ps)(j(),W),$=function(e){var t,n,r,o=e.post,i=e.rootMargin,l=e.target,c=(null===(t=o.collection)||void 0===t?void 0:t.id)||"",u=(null===(n=o.creator)||void 0===n?void 0:n.id)||"",m=c||u,d=function(e){var t=e.firstPublishedAt,n=e.pinnedAt;return e.collection?n?"P".concat(n):"L".concat(t):"".concat(t)}(o),p=F(c?q:V,{variables:{id:m,from:d}}),f=a()(p,2),g=f[0],v=f[1],E=v.called,h=v.loading,x=v.error,b=v.data,y=(b=void 0===b?{publisher:void 0}:b).publisher;if((0,N.S1)({onIntersect:g,target:l,disconnect:function(){return E},rootMargin:i},[E]),!E||h||x||!y)return null;var P=null==y||null===(r=y.homepagePostsConnection)||void 0===r?void 0:r.posts;if(!y||!P)return null;var _="Collection"===y.__typename;return s.createElement(s.Fragment,null,P.map((function(e,t){var n={publisher:y,post:e,hideAuthor:!_,isFirst:0===t,includeBottomDivider:t===P.length-1,index:t};return s.createElement(T.Xc,k()({key:e.id},n))})))},G=function(e){var t=e.post,n=e.rootMargin,r=e.target,o=s.useState(!1),i=a()(o,2),l=i[0],c=i[1];return l||N.V6.on("load",(function(){return c(!0)})),l?s.createElement($,{post:t,target:r,rootMargin:n}):null},Z=(0,l.Ps)(U());function X(){var e=o()(["\n  query PostRecircQuery(\n    $postId: ID!\n    $includePostRecirc: Boolean!\n    $postRecircPaging: PaginationLimit!\n  ) {\n    post(id: $postId) {\n      id\n      ...PostRecirc_post\n    }\n  }\n  ","\n"]);return X=function(){return e},e}function Y(){var e=o()(["\n  fragment PostRecirc_post on Post {\n    recirc(paging: {limit: $postRecircPaging}) @include(if: $includePostRecirc) {\n      items {\n        __typename\n        ... on Post {\n          ...Recirc_post\n        }\n        ... on SuggestedPost {\n          post {\n            __typename\n            ...Recirc_post\n          }\n          postSuggestionReasons {\n            reason\n            users {\n              name\n            }\n            topics {\n              name\n            }\n            collections {\n              name\n            }\n            tags {\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Y=function(){return e},e}function K(){var e=o()(["\n  fragment Recirc_post on Post {\n    ...PostListingItemRecirc_post\n  }\n  ","\n"]);return K=function(){return e},e}var Q=(0,l.Ps)(K(),O.X),J=(0,l.Ps)(Y(),Q),ee=(0,l.Ps)(X(),J);const te=(0,y.$j)((function(e){return{recircOptions:e.config.recircOptions}}))((function(e){var t,n,r,o=e.postId,i=e.rootMargin,l=e.recircOptions,c=e.target,u=(null==l||null===(t=l.v1)||void 0===t?void 0:t.limit)||3,m=F(ee,{variables:{postId:o,includePostRecirc:!0,postRecircPaging:u},ssr:!1}),d=a()(m,2),p=d[0],f=d[1],g=f.called,v=f.loading,E=f.error,h=f.data;(0,N.S1)({onIntersect:p,target:c,disconnect:function(){return g},rootMargin:i},[g]);var x=null==h||null===(n=h.post)||void 0===n||null===(r=n.recirc)||void 0===r?void 0:r.items;return!g||v||E||!x?null:s.createElement(M,{posts:x,sourceName:"post_recirc"})}));var ne=n(67995),re=n(27952);function oe(){var e=o()(["\n  fragment TagList_collection on Collection {\n    id\n    slug\n    domain\n  }\n"]);return oe=function(){return e},e}function ie(){var e=o()(["\n  fragment TagList_tags on Tag {\n    id\n    displayTitle\n    normalizedTagSlug\n  }\n"]);return ie=function(){return e},e}var ae={padding:0,margin:0},le={display:"inline-block",listStyleType:"none",marginRight:"8px",marginBottom:"8px"},se=function(e){return{borderRadius:"3px",padding:"5px 10px",textDecoration:"none",color:e.baseColor.text.lighter,display:"block",background:e.baseColor.background.normal,lineHeight:"22px"}};function ce(e){var t=e.tags,n=e.collection,r=(0,S.Iq)(),o=(0,P.v)((function(e){return e.config.authDomain})),i=(0,P.v)((function(e){return e.client.routingEntity.type})),a=(0,ne.n)({name:"detail",scale:"S",color:"LIGHTER"});return t?s.createElement("ul",{className:r(ae)},t.map((function(e){if(!e.id)return null;var t=e.normalizedTagSlug||e.id,l=n&&!n.domain?(0,re.H6k)(n,t,o):(0,re.HYG)(t,o,i);return s.createElement("li",{key:e.id,className:r(le)},s.createElement("a",{href:l,className:r([a,se])},e.displayTitle))}))):null}var ue=(0,l.Ps)(ie()),me=(0,l.Ps)(oe()),de=n(88065),pe=n(47713),fe=n(57131),ge=n(85828),ve=n(1506),Ee=n(74871),he=n(99046),xe=n(71542),be=n(49800),ye=n(55077),Pe=n(62181),_e=n(51512),we=n(51064);function Se(){var e=o()(["\n  fragment PostFooterActionsBar_post on Post {\n    id\n    visibility\n    isPublished\n    allowResponses\n    viewerClapCount\n    creator {\n      id\n      isBlocking\n    }\n    collection {\n      id\n      viewerIsEditor\n    }\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...SusiClickable_post\n    ...ManageSubmission_post\n    ...CollectionSubmission_post\n    ...ShareButtons_post\n    ...ResponsesIconButton_post\n    ...CreatorActionOverflowPopover_post\n    ...PostFooterSocialPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Se=function(){return e},e}const Ce=function(e){var t,n=e.post,r=e.showResponsesSidebar,o=e.useSocialPopover,i=e.shouldHideClapsText,l=void 0!==i&&i,c=n.isPublished,u=n.creator,m=n.collection,d="clap_footer",p={post:n,source:{name:"post_actions_footer"}},g=(0,we.O)(!1),v=a()(g,2),E=v[0],h=v[1];return s.createElement(s.Fragment,null,E&&s.createElement(f.TF,null),s.createElement(f.xu,{display:"flex",justifyContent:"space-between",marginTop:"25px",print:{display:"none"}},s.createElement(_e.cW,{source:{name:"post_actions_footer"}},s.createElement(f.xu,{display:"flex",flexDirection:"row"},s.createElement(f.xu,{maxWidth:"155px"},s.createElement(xe.e,null,s.createElement(he.S,{post:n,buttonStyle:"SUBTLE",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:l,susiEntry:d})),s.createElement(xe.s,null,s.createElement(he.S,{post:n,buttonStyle:"SUBTLE_FOR_DESKTOP",hasDialog:!0,shouldHideClapsText:l,susiEntry:d}))),s.createElement(f.xu,{xs:{width:"15px"},sm:{width:"15px"},md:{width:"15px"},lg:{width:"25px"},xl:{width:"25px"}}),s.createElement(_e.cW,{source:{name:"follow_footer",susiEntry:"follow_footer"}},s.createElement(be.h,{responsesCount:null===(t=n.postResponses)||void 0===t?void 0:t.count,location:"footer",showResponsesSidebar:r,allowResponses:n.allowResponses,postId:n.id,isLimitedState:n.isLimitedState})))),s.createElement(f.xu,{display:"flex",alignItems:"center"},c&&s.createElement(s.Fragment,null,o?s.createElement(f.xu,{paddingRight:"8px"},s.createElement(ge.$,p)):s.createElement(ye.n,p),s.createElement(f.xu,{flexGrow:"0",paddingRight:"8px"},s.createElement(_e.cW,{source:{name:"post_actions_footer"}},s.createElement(pe.o,{post:n,susiEntry:"bookmark_footer"})))),n&&u&&s.createElement(fe.Z,{creator:u,post:n,collection:m,showLoadingIndicator:h}))))};var Ie=(0,l.Ps)(Se(),de.z,he.x,Pe.qU,Ee.En,ve.x7,ye.$,be.K,fe.G,ge.u),Re=n(73882),Le=n(84783),ke=n(16528),Te=n(98281),Be=n(31001),Oe=n(93258),Ae=n(64504);function Me(){var e=o()(["\n  fragment PostFooterByline_post on Post {\n    id\n    showSubscribeToProfilePromo\n    creator {\n      name\n      username\n      bio\n      id\n      isBlocking\n      ...UserAvatar_user\n      ...UserFollowButton_user\n      ...userUrl_user\n    }\n    collection {\n      name\n      description\n      ...CollectionAvatar_collection\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...CollectionFollowButton_post\n    ...UserFollowButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Me=function(){return e},e}var Fe=Te.wC.XL,De=Te.wC.XL+22,Ne="follow_footer",Ue=function(e){var t=e.creator,n=e.post,r=(0,P.v)((function(e){return e.config.authDomain})),o=t.name,i=t.username,a=t.bio,l=void 0===a?"":a,c=t.id,u=t.isBlocking,m=n.showSubscribeToProfilePromo;return o&&i?s.createElement(ke.Q_,null,(function(e){return s.createElement(f.xu,{marginBottom:"32px",position:"relative",minHeight:"".concat(Fe,"px")},s.createElement(f.xu,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},s.createElement(f.xu,{position:"absolute",sm:{position:"relative",width:"".concat(De,"px")}},s.createElement(Te.ZP,{user:t,scale:"XL",link:!0})),s.createElement(f.xu,{tag:"span"},s.createElement(f.xu,{paddingLeft:"".concat(De,"px"),sm:{paddingLeft:"0"}},s.createElement(Ae.Lh,null,"Written by")),s.createElement(f.xu,{paddingLeft:"".concat(De,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},s.createElement(f.xu,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},s.createElement(Ae.X6,{scale:"M"},s.createElement(f.rU,{href:(0,re.AWr)(t,r)},o||i)),s.createElement(f.xu,{sm:{display:"none"}},e&&u?s.createElement(Oe.d,{targetUserId:c}):!m&&s.createElement(Be.Bv,{buttonSize:"SMALL",post:n,user:t,susiEntry:Ne})))))),s.createElement(f.xu,{maxWidth:"555px",paddingLeft:"".concat(De,"px"),sm:{display:"block",paddingLeft:"0"}},s.createElement(f.xu,{maxWidth:"450px"},s.createElement(Ae.F,{scale:"L"},l)),s.createElement(f.xu,{display:"none",sm:{display:"block",marginTop:"24px"}},!m&&s.createElement(Be.Bv,{buttonSize:"SMALL",post:n,user:t,susiEntry:Ne}))))})):null},je=function(e){var t=e.collection,n=e.currentLocation,r=e.post,o=t.name,i=t.description,a=void 0===i?"":i;return s.createElement(f.xu,{marginBottom:"32px",position:"relative",minHeight:"".concat(Fe,"px")},s.createElement(f.xu,{tag:"span",sm:{display:"flex",alignItems:"center",marginBottom:"24px"}},s.createElement(f.xu,{position:"absolute",sm:{position:"relative",width:"".concat(De,"px")}},s.createElement(Re.v,{collection:t,size:Fe,link:!0})),s.createElement(f.xu,{tag:"span"},s.createElement(f.xu,{paddingLeft:"".concat(De,"px"),display:"flex",marginBottom:"6px",sm:{paddingLeft:"0"}},s.createElement(f.xu,{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},s.createElement(Ae.X6,{scale:"M"},s.createElement(f.rU,{href:(0,re.WGd)(t,n)},o)),s.createElement(f.xu,{sm:{display:"none"}},s.createElement(Le.Fp,{collection:t,post:r,susiEntry:Ne})))))),s.createElement(f.xu,{maxWidth:"550px",paddingLeft:"".concat(De,"px"),sm:{display:"block",paddingLeft:"0"}},s.createElement(f.xu,{maxWidth:"450px"},s.createElement(Ae.F,{scale:"L"},a)),s.createElement(f.xu,{display:"none",sm:{display:"block",marginTop:"24px"}},s.createElement(Le.Fp,{collection:t,post:r,susiEntry:Ne}))))},He=function(e){var t=e.collection,n=e.creator,r=e.post,o=e.currentLocation,i=(0,P.v)((function(e){return e.config.authDomain})),a=r.showSubscribeToProfilePromo;return s.createElement(f.xu,{paddingTop:"24px"},n.name&&n.username&&s.createElement(f.xu,{display:"flex",flexDirection:"row"},s.createElement(f.xu,{marginTop:"5px"},s.createElement(Te.ZP,{user:n,scale:"S",link:!0})),s.createElement(f.xu,{marginLeft:"12px"},s.createElement(Ae.Lh,{scale:"S"},"Written by"),s.createElement(f.xu,{display:"flex",flexDirection:"row"},s.createElement(Ae.X6,{scale:"XS"},s.createElement(f.rU,{href:(0,re.AWr)(n,i)},n.name||n.username)),s.createElement(f.xu,{marginLeft:"12px"},!a&&s.createElement(Be.Bv,{buttonSize:"COMPACT",post:r,user:n,susiEntry:Ne}))),s.createElement(f.xu,{paddingTop:"8px"},s.createElement(Ae.F,{scale:"M"},n.bio)))),t&&s.createElement(f.xu,{paddingTop:"24px"},s.createElement(f.xu,{display:"flex",flexDirection:"row"},s.createElement(Re.v,{collection:t,size:40,link:!0}),s.createElement(f.xu,{marginLeft:"12px"},s.createElement(f.xu,{display:"flex",flexDirection:"row"},s.createElement(Ae.X6,{scale:"XS"},s.createElement(f.rU,{href:(0,re.WGd)(t,o)},t.name)),s.createElement(f.xu,{marginLeft:"12px"},s.createElement(Le.Fp,{collection:t,post:r,buttonSize:"COMPACT",susiEntry:Ne}))),s.createElement(f.xu,{paddingTop:"8px"},s.createElement(Ae.F,{scale:"M"},t.description||""))))))};function ze(e){var t=e.post,n=t.creator,r=t.collection,o=(0,P.v)((function(e){return e.navigation.currentLocation}));return n?s.createElement(f.xu,{marginTop:"25px",marginBottom:"25px",paddingTop:"32px",borderTop:"BASE_LIGHTER",print:{display:"none"},sm:{paddingTop:"0"}},s.createElement(f.xu,{sm:{display:"none"}},s.createElement(Ue,{creator:n,post:t}),r&&s.createElement(s.Fragment,null,s.createElement(f.xu,{paddingTop:"32px"}),s.createElement(je,{collection:r,currentLocation:o,post:t}))),s.createElement(f.xu,{display:"none",sm:{display:"block"}},s.createElement(He,{post:t,creator:n,collection:r,currentLocation:o}))):null}var We=(0,l.Ps)(Me(),Re.d,Le.Iq,Le.b3,re.nfI,Te.WQ,Be.S$,Be.sj,re.$mN),qe=n(49925);function Ve(){var e=o()(["\n  fragment PostFooterBylineAurora_post on Post {\n    id\n    showSubscribeToProfilePromo\n    creator {\n      name\n      username\n      bio\n      id\n      isBlocking\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n    }\n    collection {\n      name\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Ve=function(){return e},e}var $e="follow_footer",Ge=function(e){var t=e.post,n=t.creator,r=t.collection,o=t.showSubscribeToProfilePromo,i=(0,P.v)((function(e){return e.config.authDomain})),a=(0,P.v)((function(e){return e.navigation.currentLocation})),l=(0,ke.Hk)().value,c="REGULAR",u={xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},m=(null==l?void 0:l.id)!==(null==n?void 0:n.id)?"168px":void 0,d={display:"flex",justifyContent:"space-between",alignItems:"center"},p=(0,qe.KW)(t.creator),g=r?(0,re.WGd)(r,a,i):n?(0,re.AWr)(n,i):"",v="More from ".concat(r?r.name:null==n?void 0:n.name),E=r?r.description:null==n?void 0:n.bio,h=null;n&&(l&&n.isBlocking?h=s.createElement(Oe.d,{buttonSize:c,targetUserId:n.id}):o||(h=s.createElement(Be.Bv,{buttonSize:c,post:t,user:n,susiEntry:$e})));var x=r?s.createElement(Le.Fp,{buttonSize:c,collection:r,post:t,susiEntry:$e}):h;return s.createElement(f.xu,{print:{display:"none"}},(null==n?void 0:n.name)&&(null==n?void 0:n.username)&&!p&&s.createElement(f.xu,{paddingBottom:"30px"},s.createElement(f.Pm,{size:"inset"},s.createElement(f.xu,k()({},d,{borderTop:"BASE_LIGHTER",paddingTop:"33px"}),s.createElement(f.xu,null,s.createElement(Ae.Lh,{scale:"S"},"Written by"),s.createElement(Ae.X6,{scale:u,clamp:1},s.createElement(f.rU,{href:(0,re.AWr)(n,i)},n.name||n.username))),h),n.bio&&s.createElement(f.xu,{paddingTop:"6px",paddingRight:m},s.createElement(Ae.F,{scale:"M"},n.bio)))),(r||p)&&s.createElement(f.xu,{paddingTop:"32px",paddingBottom:"4px",backgroundColor:"BASE_LIGHT"},s.createElement(f.Pm,{size:"inset"},s.createElement(f.xu,d,s.createElement(Ae.X6,{scale:u,clamp:1},s.createElement(f.rU,{href:g},v)),x),E&&s.createElement(f.xu,{paddingTop:"5px",paddingRight:m},s.createElement(Ae.F,{scale:"M"},E)))))},Ze=(0,l.Ps)(Ve(),Le.Iq,Le.b3,re.nfI,Be.S$,Be.sj,qe.C5,re.$mN);function Xe(){var e=o()(["\n  fragment PostFooterCollectionButton_collection on Collection {\n    id\n    name\n    ...collectionUrl_collection\n  }\n  ","\n"]);return Xe=function(){return e},e}var Ye=function(e){var t=e.collection,n=(0,P.v)((function(e){return e.config.authDomain})),r=(0,P.v)((function(e){return e.navigation.currentLocation}));return s.createElement(s.Fragment,null,(null==t?void 0:t.name)&&s.createElement(f.xu,{maxWidth:"100%",textAlign:"center"},s.createElement(f.zx,{buttonStyle:"STRONG",href:(0,re.WGd)(t,r,n)},"Read more from ",t.name)))},Ke=(0,l.Ps)(Xe(),re.nfI),Qe=n(33914),Je=n(53690),et=n(78271),tt=n(50344),nt=n(8969),rt=n(45957),ot=function(e){return{fill:e.baseColor.fill.lighter}};function it(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(at(e,"title")," license by the author.")}}function at(e,t){return{PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}}[e][t]}var lt=function(e){var t=e.license,n=(0,S.Iq)();return t?s.createElement(f.xu,null,s.createElement(f.xu,{display:"inline-block"},s.createElement(Ae.F,{scale:"S"},s.createElement(Qe._,{tooltipText:it(t),maxWidth:300},s.createElement(f.rU,{disableSourceParam:!0,href:at(t,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(t))))),s.createElement(f.xu,{display:"inline-block"},s.createElement(Ae.F,{scale:"S"},"CC_40_ZERO"===t&&s.createElement("span",null," by the author."),s.createElement("span",{className:n(ot),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:s.createElement(rt.Z,null),CC_40_BY:s.createElement(Je.Z,null),CC_40_BY_ND:s.createElement(s.Fragment,null,s.createElement(Je.Z,null),s.createElement(tt.Z,null)),CC_40_BY_SA:s.createElement(s.Fragment,null,s.createElement(Je.Z,null),s.createElement(nt.Z,null)),CC_40_BY_NC:s.createElement(s.Fragment,null,s.createElement(Je.Z,null),s.createElement(et.Z,null)),CC_40_BY_NC_ND:s.createElement(s.Fragment,null,s.createElement(Je.Z,null),s.createElement(et.Z,null),s.createElement(tt.Z,null)),CC_40_BY_NC_SA:s.createElement(s.Fragment,null,s.createElement(Je.Z,null),s.createElement(et.Z,null),s.createElement(nt.Z,null)),PUBLIC_DOMAIN:s.createElement(s.Fragment,null)}[e]}(t))))):null},st=n(59713),ct=n.n(st),ut=n(80439);function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){ct()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pt(){var e=o()(["\n  fragment ThanksTo_post on Post {\n    id\n    creator {\n      id\n    }\n    collaborators {\n      id\n      user {\n        id\n        name\n      }\n      state\n    }\n  }\n"]);return pt=function(){return e},e}function ft(){var e=o()(["\n  mutation setCollaboratorState($postId: ID!, $collaboratorId: ID!, $isVisible: Boolean!) {\n    setCollaboratorState(postId: $postId, collaboratorId: $collaboratorId, isVisible: $isVisible)\n  }\n"]);return ft=function(){return e},e}var gt=(0,l.Ps)(ft()),vt=(0,l.Ps)(pt()),Et=function(e){var t=e.viewer,n=e.post,r=e.collaborator,o=r.user,i=n.creator;return o&&t&&i&&(t.id===i.id||t.id===o.id)?s.createElement(ut.mm,{mutation:gt,optimisticResponse:{setCollaboratorState:!0},update:function(e,t){var o,i=e.readFragment({id:"Post:".concat(n.id),fragment:vt});e.writeFragment({id:"Post:".concat(n.id),fragment:vt,data:dt(dt({},i),{},{collaborators:(null!==(o=null==i?void 0:i.collaborators)&&void 0!==o?o:[]).map((function(e){return e.id===r.id?dt(dt({},e),{},{state:"visible"===e.state?"hidden":"visible"}):e}))})})}},(function(e){return"hidden-collab"===r.state&&i.id===t.id?"(declined)":s.createElement(s.Fragment,null,"(",s.createElement(f.rU,{onClick:function(t){e({variables:{postId:n.id,collaboratorId:o.id,isVisible:"visible"!==r.state}})}},"visible"===r.state?"hide":"show"),")")})):null},ht=function(e){var t=e.index,n=e.total;return t===n-1?"":n>=3?t===n-2?", and ":", ":" and "},xt=function(e){var t=e.post,n=t.collaborators,r=t.creator;return r&&n&&n.length?s.createElement(ke.Q_,null,(function(e){return s.createElement(f.xu,null,s.createElement(Ae.F,{scale:"S"},"Thanks to ",n.map((function(o,i){var a=o.user;return a?s.createElement(s.Fragment,{key:o.id},a.name,function(e,t,n){return e&&(e.id===t.id||n&&e.id===n.id)}(e,r,a)&&s.createElement(s.Fragment,null," ",s.createElement(Et,{viewer:e,post:t,collaborator:o})),s.createElement(ht,{index:i,total:n.length})):null})),". "))})):null};function bt(){var e=o()(["\n  fragment TranslatedBy_post on Post {\n    creator {\n      name\n      ...userUrl_user\n    }\n    translationSourcePost {\n      id\n      title\n      mediumUrl\n    }\n  }\n  ","\n"]);return bt=function(){return e},e}var yt=(0,l.Ps)(bt(),re.$mN),Pt=function(e){var t=e.post,n=(0,P.v)((function(e){return e.config.authDomain})),r=t.creator;if(!t.translationSourcePost||!r)return null;var o=s.createElement(f.rU,{linkStyle:"SUBTLE",inline:!0,href:(0,re.jVf)(t.translationSourcePost)},"original"),i=s.createElement(f.rU,{linkStyle:"SUBTLE",inline:!0,href:(0,re.AWr)(r,n)},r.name);return s.createElement(f.xu,null,s.createElement(Ae.F,{scale:"S"},"Translated from ",o," by ",i,"."))},_t=n(25537),wt=n(68387),St=n(78221);function Ct(){var e=o()(["\n  fragment SequencePreview_sequence on Sequence {\n    sequenceId\n    ...SequenceCoverImage_sequence\n    description\n    eyebrow\n    slug\n    tabletImage {\n      id\n    }\n    title\n    hideIndex\n  }\n  ","\n"]);return Ct=function(){return e},e}var It={textTransform:"uppercase"};function Rt(e){var t=e.sequence,n=(0,S.Iq)();return s.createElement(f.xu,{display:"flex",flexDirection:"column",marginBottom:"56px"},s.createElement(f.xu,{display:"flex",marginTop:"48px",xs:{marginTop:"32px",display:"flex"}},s.createElement(f.xu,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",md:{display:"none"}},s.createElement(St.Z,{sequence:t,width:200,height:265})),s.createElement(f.xu,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",md:{display:"block"},xs:{display:"none !important"}},s.createElement(St.Z,{sequence:t,width:180,height:238})),s.createElement(f.xu,{flexShrink:"0",borderRadius:"4px",overflow:"hidden",display:"none",xs:{display:"block"}},s.createElement(St.Z,{sequence:t,width:98,height:130})),s.createElement(f.xu,{display:"flex",flexDirection:"column",marginLeft:"32px",justifyContent:"center",xs:{marginLeft:"20px",display:"flex"}},s.createElement("div",{className:n(It)},s.createElement(Ae.Lh,null,"About this ",t.eyebrow||"Collection")),t.title&&t.slug&&s.createElement(f.P3,{href:(0,re.Qdx)(t.slug)},s.createElement(f.xu,null,s.createElement(Ae.Dx,{scale:"L"},t.title))),t.description&&s.createElement(f.xu,{marginTop:"14px",xs:{display:"none"},maxWidth:"680px"},s.createElement(Ae.F,{scale:"L"},t.description)))),t.description&&s.createElement(f.xu,{display:"none",marginTop:"29px",xs:{display:"block"}},s.createElement(Ae.F,{scale:"M"},t.description)))}var Lt=(0,l.Ps)(Ct(),St.U);function kt(){var e=o()(["\n  query SequencePostRecircQuery(\n    $postId: ID!\n    $includeSequenceRecirc: Boolean!\n    $postRecircPaging: PaginationLimit!\n  ) {\n    post(id: $postId) {\n      id\n      ...SequencePostRecirc_post\n    }\n  }\n  ","\n"]);return kt=function(){return e},e}function Tt(){var e=o()(["\n  fragment SequencePostRecirc_post on Post {\n    elevateRecirc(paging: {limit: $postRecircPaging}) @include(if: $includeSequenceRecirc) {\n      items {\n        __typename\n        ... on Post {\n          ...PostListingItemRecirc_post\n        }\n      }\n    }\n  }\n  ","\n"]);return Tt=function(){return e},e}var Bt=(0,l.Ps)(Tt(),O.X),Ot=(0,l.Ps)(kt(),Bt);const At=(0,y.$j)((function(e){return{recircOptions:e.config.recircOptions}}))((function(e){var t,n,r,o=e.postId,i=e.rootMargin,l=e.recircOptions,c=e.target,u=(null==l||null===(t=l.v1)||void 0===t?void 0:t.limit)||3,m=F(Ot,{variables:{postId:o,includeSequenceRecirc:!0,postRecircPaging:u},ssr:!1}),d=a()(m,2),p=d[0],f=d[1],g=f.called,v=f.loading,E=f.error,h=f.data;(0,N.S1)({onIntersect:p,target:c,disconnect:function(){return g},rootMargin:i},[g]);var x=null==h||null===(n=h.post)||void 0===n||null===(r=n.elevateRecirc)||void 0===r?void 0:r.items;return!g||v||E||!x?null:s.createElement(M,{posts:x,sourceName:"elevate_recirc"})}));var Mt=n(53976),Ft=n(324),Dt=n(59877),Nt=n(41331),Ut=n(67122),jt=n(60410),Ht=n(42440);function zt(){var e=o()(["\n  fragment PostFooter_post on Post {\n    id\n    visibility\n    license\n    isPublished\n    allowResponses\n    layerCake\n    newsletterId\n    collection {\n      viewerIsEditor\n      newsletterV3 {\n        isSubscribed\n        showPromo\n      }\n      ...auroraHooks_publisher\n      ...NewsletterV3Promo_publisher\n      ...PostFooter_collection\n      ...TagList_collection\n    }\n    creator {\n      newsletterV3 {\n        id\n        ...NewsletterV3Promo_newsletterV3\n      }\n      viewerIsUser\n      ...auroraHooks_publisher\n      ...EntityDrivenSubscriptionCallToAction_creator\n    }\n    sequence {\n      sequenceId\n      ...SequencePreview_sequence\n    }\n    tags {\n      id\n      ...TagList_tags\n    }\n    topics {\n      topicId\n      name\n    }\n    viewerClapCount\n    showSubscribeToProfilePromo\n    showSubscribeToCollectionNewsletterV3Promo\n    inResponseToPostResult {\n      ... on PostResult {\n        ...InResponseToPostPreview_postResult\n      }\n    }\n    ...PostFooterActionsBar_post\n    ...PostFooterByline_post\n    ...PostFooterBylineAurora_post\n    ...PostInternalLinks_post\n    ...PostNextFiveStories_post\n    ...PostRecirc_post\n    ...SequencePostRecirc_post\n    ...ThanksTo_post\n    ...TranslatedBy_post\n    ...InResponseToPostPreview_mediaResource\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return zt=function(){return e},e}function Wt(){var e=o()(["\n  fragment PostFooter_collection on Collection {\n    name\n    description\n    ...PostFooterCollectionButton_collection\n  }\n  ","\n"]);return Wt=function(){return e},e}var qt=function(e){return{color:e.baseColor.text.normal}},Vt=function(e,t){return{marginTop:t,clear:"both",marginBottom:e?"40px":void 0}};const $t=function(e){var t=e.post,n=e.showResponsesSidebar,r=e.hideRecirc,o=e.showMixtape,i=void 0!==o&&o,l=t.id,p=t.layerCake,g=t.tags,v=t.topics,E=t.sequence,h=t.visibility,x=t.isPublished,y=t.collection,C=t.creator,I=t.showSubscribeToProfilePromo,R=t.showSubscribeToCollectionNewsletterV3Promo,L=s.useRef(null),k=s.useRef(null),T="0px 0px 2000px 0px",B=(0,S.Iq)(),O=s.useContext(c.u6),A=(0,P.v)((function(e){return e.config.isAmp})),M=(0,P.v)((function(e){return e.config.embeddedPostIds})),F=(0,_t.o)()||A,D=function(e,t,n,r){var o=function(e){var t=e.tags,n=void 0===t?[]:t,r=e.topics,o=void 0===r?[]:r,i=e.tier,a=e.isLocked,l=e.isTopicPage,s=e.postId,c=e.postPublishDate,u=(0,P.v)((function(e){return e.config.sharedCdcMessaging.COVID_APPLICABLE_TAG_SLUGS})),m=(0,P.v)((function(e){return e.config.sharedCdcMessaging.COVID_APPLICABLE_TOPIC_NAMES})),d=(0,P.v)((function(e){return e.config.sharedCdcMessaging.COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE})),p=(0,P.b)((function(e){return e.config.sharedCdcMessaging.COVID_MESSAGES})),f=(0,P.v)((function(e){return e.config.sharedCdcMessaging.COVID_BANNER_POST_ID_OVERRIDE_WHITELIST})),g={shouldShowCdcMessaging:!1,message:p[w.other]};if(f.includes(s||""))return g;if(c&&c<15778368e5)return g;var v=u.map((function(e){return e.toLowerCase()})),E=(l?d:m).map((function(e){return e.toLowerCase()})),h=n.map((function(e){return v.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0),x=o.map((function(e){return E.includes((null==e?void 0:e.toLowerCase())||"")})).includes(!0);return{shouldShowCdcMessaging:!(!h&&!x),message:function(e,t,n){var r=arguments.length>4?arguments[4]:void 0;return(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]).some((function(e){return t.includes(e?e.toLowerCase():"")}))&&r&&[1,2].includes(n||0)?e.unbound:null==n?e[w.other]:e[w[n]||_]}(p,E,i,o,a)}}({tier:r,topics:n,tags:t}).shouldShowCdcMessaging;return!(!(null==e?void 0:e.coronavirus)||!o)}(M,null==g?void 0:g.map((function(e){return e.id})),null==v?void 0:v.map((function(e){return e.name})),p),N=(0,qe.GT)(y||t.creator),U=i&&(t.inResponseToPostResult||t.inResponseToMediaResource)?"24px":"40px";s.useEffect((function(){var e=N?L:k;O.updateWatchedBounds("footer",e,{type:"footer"})}),[k,L]);var j=s.useState(R),H=a()(j,2),z=H[0],W=H[1],q=s.useState(I),V=a()(q,2),$=V[0],Z=V[1];s.useEffect((function(){W(!!R),Z(!!I)}),[]);var X=(0,Mt.V)({name:"entity_driven_subscription_milestone_1",placeholder:!1}),Y=function(){return y&&z?s.createElement(u.Xw,{postId:l,publisher:y}):C&&$&&!C.isAllowEdsEnabled&&!X?s.createElement(u.Xw,{postId:l,publisher:C}):null};return s.createElement("div",{ref:k},s.createElement(_e.cW,{source:{name:"follow_footer"}},s.createElement("div",{className:B([Vt(!x||D,U),(0,jt.o)({flexDirection:"column",justifyContent:"center"})])},s.createElement(f.Pm,{size:"inset"},!x&&s.createElement(f.xu,{height:"20px",borderTop:"BASE_LIGHTER"}),s.createElement(f.xu,{display:"flex",flexWrap:"wrap"},x&&s.createElement(xt,{post:t}),x&&s.createElement(Pt,{post:t})),s.createElement(f.xu,{display:"flex",flexWrap:"wrap",alignItems:"center"},"UNLISTED"===h&&s.createElement(f.xu,null,s.createElement(Ae.F,{scale:"S"},s.createElement(Ht.Z,null)," ",s.createElement("span",{className:B(qt)},"Unlisted"),"ALL_RIGHTS_RESERVED"!==t.license&&s.createElement("span",{style:{marginLeft:"5px",marginRight:"5px"}},"|"))),t.license&&"ALL_RIGHTS_RESERVED"!==t.license&&s.createElement(lt,{license:t.license})),i&&s.createElement(d.CV,{inResponseToPostResult:t.inResponseToPostResult,inResponseToMediaResource:t.inResponseToMediaResource}),s.createElement(Y,null),!t.collection&&t.creator&&s.createElement(_e.cW,{source:{name:wt.Qw,postId:t.id}},s.createElement(wt.Qj,{creator:t.creator})),N&&s.createElement(s.Fragment,null,!A&&s.createElement(f.xu,{marginTop:i?"40px":"25px",paddingBottom:"25px"},s.createElement(Ce,{post:t,showResponsesSidebar:n,useSocialPopover:!0,shouldHideClapsText:!0})),g&&g.length>0&&s.createElement(f.xu,{marginTop:"25px",paddingBottom:"40px"},s.createElement(ce,{tags:g,collection:t.collection}))),!N&&s.createElement(s.Fragment,null,g&&g.length>0&&s.createElement(f.xu,{marginTop:"25px"},s.createElement(ce,{tags:g,collection:t.collection})),!A&&s.createElement(Ce,{post:t,showResponsesSidebar:n})),N&&!y&&s.createElement(f.xu,{paddingTop:"40px"})),s.createElement("div",{ref:L},s.createElement(f.Pm,{size:"inset"},x&&!N&&s.createElement(ze,{post:t}),!N&&D&&s.createElement(f.xu,{paddingTop:"25px"},s.createElement(Nt.v,{rootMargin:"0px 0px 1000px 0px",target:k},s.createElement(m.PY,{postId:null==M?void 0:M.coronavirus,sourcePost:t})))),N&&s.createElement(s.Fragment,null,s.createElement(Ge,{post:t}),s.createElement(f.xu,{backgroundColor:"BASE_LIGHT",print:{display:"none"},paddingTop:"25px"},s.createElement(f.Pm,{size:"full"},s.createElement(G,{post:t,rootMargin:T,target:k}),y&&s.createElement(f.xu,{marginBottom:"96px",marginTop:"40px"},s.createElement(Ye,{collection:y}))))),!r&&x&&!D&&s.createElement(Ft.N8,null,s.createElement(Dt.r,null,s.createElement(f.xu,{background:Ut.ix,print:{display:"none"}},s.createElement(f.Pm,null,E&&!E.hideIndex&&!N&&s.createElement(Rt,{sequence:E}),!F&&!N&&(E?s.createElement(At,{target:k,postId:l,rootMargin:T,post:t}):s.createElement(te,{target:k,postId:l,rootMargin:T,post:t})),F&&s.createElement(b,{post:t,sourceName:"post_internal_links"})))))))))};var Gt=(0,l.Ps)(Wt(),Ke),Zt=(0,l.Ps)(zt(),qe.C5,u.Rf,Gt,Ie,We,Ze,x,Z,J,Bt,Lt,ue,me,vt,yt,u.e0,d.zJ,d.KI,wt.w7)},25537:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(31235),o=n(67297);function i(){var e=(0,r.xg)(),t=(0,o.v)((function(e){return e.client.hydrated})),n=(0,o.v)((function(e){return e.session.isLoggedInCookie})),i=(0,o.v)((function(e){return e.session.isSpoofed}));return!t&&e||!n&&!i}},93125:(e,t,n)=>{"use strict";n.d(t,{_U:()=>M,Dk:()=>F});var r=n(28655),o=n.n(r),i=n(59713),a=n.n(i),l=n(63038),s=n.n(l),c=n(46829),u=n(71439),m=n(67294),d=n(12291),p=n(8558),f=n(7530),g=n(98024),v=n(86021),E=n(28309),h=n(90038),x=n(27952);function b(){var e=o()(["\n  fragment ReadNextPostCard_post on Post {\n    id\n    title\n    mediumUrl\n    primaryTopic {\n      name\n      slug\n    }\n    collection {\n      id\n      name\n    }\n    previewImage {\n      id\n      alt\n      focusPercentX\n      focusPercentY\n    }\n  }\n"]);return b=function(){return e},e}var y=(0,u.Ps)(b()),P=(0,d.$j)((function(e){return{mediumOwnedAndOperatedCollectionIds:e.config.mediumOwnedAndOperatedCollectionIds,isCustomDomain:e.client.isCustomDomain}}))((function(e){var t=e.isCustomDomain,n=e.mediumOwnedAndOperatedCollectionIds,r=e.post,o=r&&r.previewImage||{},i=o.focusPercentX,a=o.focusPercentY,l=o.id,s=o.alt,c=r.collection||{},u=c.name,d=c.id,b=r.primaryTopic&&r.primaryTopic.name,y=d&&(n.includes(d)?u:b)||"",P=r&&r.title||"",_=(0,x.jVf)(r,t),w=(0,E.Iq)(),S=m.createElement(f.xu,{marginBottom:"4px"},m.createElement(v.Lh,{tag:"span"},m.createElement(g.F,{scale:"S",color:"DARKER"},m.createElement("div",{className:w({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})},y))));return m.createElement(f.P3,{href:_},m.createElement(f.xu,{display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"20px"},S,m.createElement(f.xu,{display:"flex",flexDirection:"row"},m.createElement(p.UV,{miroId:l||"",alt:s||"",height:50,width:50,freezeGifs:!0,strategy:h._S.Crop,rules:{marginRight:"9px",marginTop:"4px"},focusPercentX:i||50,focusPercentY:a||50}),m.createElement(f.xu,{display:"flex",flexDirection:"column",width:"130px"},m.createElement(g.F,{scale:"S",color:"DARKER",clamp:3},P)))))})),_=n(16528),w=n(3149),S=n(64504),C=n(62630),I=n(27572),R=n(11348),L=n(6522);function k(){var e=o()(["\n  query ReadNextQuery($postId: ID!) {\n    post(id: $postId) {\n      id\n      readNext {\n        ... on ReadNextItem {\n          reason\n          post {\n            ... on Post {\n              ...ReadNextPostCard_post\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={display:"none"},A={":last-of-type":{xs:O,sm:O,md:O,lg:O,xl:{display:"block"}}},M=function(e){var t=e.isVisible,n=void 0===t||t,r=e.postId,o=m.useState(!1),i=s()(o,2),a=i[0],l=i[1],u=(0,_.Hk)().value,d=(0,c.useLazyQuery)(D),p=s()(d,2),g=p[0],v=p[1],h=v.called,x=v.loading,b=v.error,y=v.data,L=(y=void 0===y?{post:void 0}:y).post,k=u&&F(u)&&!((0,R.yd)()||a),T=(0,C.Av)(),O=(0,E.Iq)(),M=(0,I.Lk)(),N=L&&L.readNext;return m.useEffect((function(){x||!b||N&&N.length||T.event("readNextError",{post:L,postId:r,error:b,readNextLength:N&&N.length||0})}),[x]),m.useEffect((function(){n&&N&&(T.event("readNext.viewed",{position:"sidebar"}),N.slice(0,4).map((function(e,t){var n=e.post,r=e.reason;return T.event("post.clientPresented",{source:(0,I.f0)(B(B({},M),{},{index:t,postFeedReason:r||void 0})),location:"post/".concat(n&&n.id)}),!0})))}),[n,N]),!h&&k&&g({variables:{postId:r||""}}),h&&!x&&!b&&L&&N&&N.length&&k?m.createElement(I.cW,{source:{name:"read_next",sectionType:I.bA.READ_NEXT_SIDEBAR},extendSource:!0},m.createElement(f.xu,{width:"188px"},m.createElement(f.xu,{md:{display:"none"},lg:{width:"780px",margin:"0 24px"},position:"relative",backgroundColor:"BACKGROUND",paddingBottom:"24px",paddingTop:"24px",width:"100%"},m.createElement(f.xu,{position:"absolute",right:"0",top:"-4px"},m.createElement(w.Z,{onClick:function(){(0,R.Ph)(),l(!0)},size:"SMALL",isPositionAbsolute:!1})),m.createElement(f.xu,{width:"200px"},m.createElement(S.F1,{scale:"XS"},"Your journey starts here.")),m.createElement(f.xu,{display:"flex",flexDirection:"column",justifyContent:"space-between"},L.readNext.slice(0,4).map((function(e,t){var n=e.post;return n?m.createElement("div",{className:O(A),key:t},m.createElement(P,{key:t,post:n})):null})))))):null};function F(e){return e&&e.createdAt+L.pU>Date.now()}var D=(0,u.Ps)(k(),y)},59877:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(82492),o=n.n(r),i=n(67294),a=n(28309),l=n(5955),s=function(e){var t=e.children,n=function(e){return o()({},e,{newFonts:{title:{family:l.H2,weight:400,fontSize:{XS:20,S:26,M:34,L:40,XL:48},lineHeight:{XS:28,S:34,M:42,L:48,XL:60},topLeadingPct:.38,bottomLeadingPct:.17},pullQuote:{family:l.H2,weight:400,fontSize:{S:22,M:24,L:30},lineHeight:{S:30,M:32,L:44},topLeadingPct:.38,bottomLeadingPct:.17}}})}((0,a.Fg)());return i.createElement(a.f6,{theme:n},t)}},5731:(e,t,n)=>{"use strict";var r;n.d(t,{j:()=>r}),function(e){e.LOHighlightCTA="lo_highlight_cta",e.LIHighlightCTA="li_highlight_cta",e.RegWall="regwall",e.SyndicatedRegwall="syndicated_regwall"}(r||(r={}))},81952:(e,t,n)=>{"use strict";n.d(t,{T:()=>g});var r=n(28655),o=n.n(r),i=n(71439),a=n(80439),l=n(67294),s=n(62630),c=n(72846);function u(){var e=o()(["\n  fragment PostContentScreen_post on Post {\n    id\n    title\n    # please note that the postMeteringOptions are defined in the postHandler file\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...PostBody_bodyModel\n      }\n    }\n    creator {\n      id\n      ...PostBody_creator\n    }\n  }\n  ","\n  ","\n"]);return u=function(){return e},e}function m(e){var t=e.post,n={bodyModel:t.content.bodyModel,creator:t.creator,postBodyInserts:null,ref:null,richTextStyle:"FULL_PAGE"};return l.createElement(c.ZP,n)}var d=(0,i.Ps)(u(),c.v,c.Pk);function p(){var e=o()(["\n  query EmbeddedPostHandler($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      ...PostContentScreen_post\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var f=(0,i.Ps)(p(),d),g=function(e){var t=e.postId,n=e.children,r=(0,s.Av)();return l.createElement(a.AE,{query:f,variables:{postId:t,postMeteringOptions:{referrer:null,sk:null}}},(function(e){var o=e.loading,i=e.error,a=e.data,s=(a=void 0===a?{}:a).post;return o?n(null):i?(r.event("embeddedPost.error",{errorMessage:i.message,postId:t}),n(null)):s?(r.event("embeddedPost.postPresented",{postId:t}),n(l.createElement(m,{post:s}))):(r.event("embeddedPost.noPost",{postId:t}),n(null))}))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/1725.d5f39d45.chunk.js.map